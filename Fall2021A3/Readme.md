# Explanation to A3

## A3Q1 逆蛇形矩阵

难度：困难

要求：给定一个 m × n 的矩阵及其内部元素排布，要求先寻求出它的蛇形矩阵行走流程，然后再将这个行走流程逆序输出。

做法：这个题目需要分两步运行：         
- 第一步是要先按照题目要求模拟蛇形矩阵的运行流程，并将这个结果存储起来；
- 第二步是将蛇形矩阵的运行结果逆向输出；

注意：         
- 建议先想清楚了蛇形矩阵的怎么运行的以后再下手操作！
- 蛇形矩阵的转弯的条件与各种情况，还有边界检查以避免越界；
- 如有需要，可以建一个二维布尔数组以记录各个位置的访问情况；
- 逆向输出蛇形矩阵的时候，可以考虑使用Stack（栈）数据结构，因为Stack数据结构是符合先进后出的要求，可以简洁优雅地实现逆序输出。

## A3Q2 矩阵乘法

难度：中等

要求：先给定矩阵个数 N 以及这 N 个矩阵的大小 m × n，然后依次输入这 N 个矩阵的内部元素排布。要求计算这些矩阵依次相乘的结果。对于其中有可能因数值太大而产生的上界溢出，需要对大质数514329做取余操作。

做法：可以先用数组存储这些大小m和n，并建立一个二维数组（可以使用null作为刚开始的值）用于记录结果，然后在输入过程中操作矩阵的依次相乘。

注意：
- 一开始的时候记录结果的二维数组并未初始化，调用会导致空指针异常，需要进行一下特别判定以避免。 
- 二维数组建议采用long类型以避免溢出，另外在任何有可能需要初始化的地方，都可以增加取余操作（反正OJ不卡常，多做几次求余也没什么问题）。

## A3Q3 逆杨辉三角

难度：中等

要求：给定杨辉三角的阶数N，要求逆序输出杨辉三角的排布情况。

做法：先建立正向杨辉三角的基本模型，第i个数组的长度为i+1，并且每个数组的头尾元素都是1。对于中间的元素，其中元素的数值依赖于上面相邻的两个元素，即triangle[x][y] = triangle[x - 1][y - 1] + triangle[x - 1][y]。完成了杨辉三角的建立后，再手动操作逆序输出即可。

注意：
- 想清楚杨辉三角的模型原理再进行操作！

**下面两题都将直接与CS102A课程的project相关！**

## A3Q4 黑白棋可行点

难度：中等

要求：需要对n个测试用例逐一操作：每个测试用例规定当前行棋方和棋盘，如果行棋方具有可下的位置，那么要求输出一个01矩阵表示当前行棋方的可行位置（0表示不能下，1表示能下）；否则，输出一行-1。

做法：做这个题目前首先要了解黑白棋的落子规则：  
- 这个位置必须是空的
- 所下位置必须要至少反转对手颜色的一个棋子
- 反转棋子的规则是落子的位置向八个方向搜索，如果某个方向遇到了己方棋子则停止搜索，将其中对手颜色的棋子全部翻转为本方颜色的棋子。

那么，这个题目的做法就很显而易见了，那就是：
- 先建立一个二维布尔数组，表示位置的合法性判定；
- 枚举棋盘上的每一个位置，向周围的八个方向进行搜索；
- 对于单个方向的搜索，在边界检查的基础上遇到了对手棋子则继续搜索，否则则结束该方向上的搜索；
- 单个方向的搜索结果的成功条件是搜索结束时落点为本方棋子，且中间至少夹杂一个对手棋子；
- 对于单个位置的合法性判定，八个方向只需要有一个方向成功即可算成功；

注意：
- 先想清楚再动手写！
- 想清楚后，建议使用方法来分割各个环节的处理情况，以减少debug的时间开销！
- 棋盘位置的八个方向做枚举时需要注意边界检查以避免越界！
- 向单个方向枚举时，记得要做枚举位置的更新以避免死循环！

## A3Q5 黑白棋棋谱

难度：困难

要求：先给定黑白棋棋谱的长度 N 和当前的行棋方以及当前的黑白棋棋盘，然后给定黑白棋棋谱中 N 步中双方先后的落子位置。在这个模拟下棋的过程中，有一些棋谱有可能有非法落子点，如果落子点正常，那么就模拟游戏的运行操作；否则就输出非法落子点的前一步的棋盘情况。

做法：先使用A3Q4的程序的一部分做棋谱位置的合法性检验，并记录各个方向的合法性情况，然后如果有合法方向，那就将合法方向的位置上的对手棋子全部翻转直到遇到本方棋子，否则就说明这是非法的落子点，直接退出循环，输出当前的棋盘情况即可。

注意：
- 先想清楚再动手写！
- 推荐使用全局变量进行棋盘，行棋方，方向合法性等等的检测与记录！
- 推荐使用方法来分割各个环节，以减少debug的时间开销！
- 当一个用户走完棋后，要记得做行棋方的切换！
