# Explanation to A2

## A2Q1 微积分
- 难度：简单
- 要求：给定多项式积分函数的项数，每项的系数和积分的上下界，要求计算该积分的数值。要求计算结果误差范围小于等于1e-4。
- 做法：手动实现高等数学I里面的积分反向求导即可。
- 注意：模拟的时候注意系数的对应关系，建议先把反向求导的计算式写在纸上。

## A2Q2 八皇后判定
- 难度：简单
- 要求：给定国际象棋棋盘中八个皇后的位置，要求验证该八个皇后是否符合横竖斜都不会相互攻击的要求。符合要求输出`Yes`，不符合要求输出`No`。
- 做法：两重循环解决问题。第一重循环枚举第一个皇后，第二重循环枚举剩下的皇后，然后验证是否会相互冲突。
- 注意：如果两皇后横坐标之差的绝对值等同于纵坐标之差的绝对值，那么就会发生斜线上的冲突。

## A2Q3 速度入座
- 难度：中等
- 要求：给定n个人的起始和n个目标座位。人物的移动速度是1，询问这些人全部占满座位所需要的最少时间。
- 做法：先将起始位置和目标位置排序，然后让这些人物移动方式为：初始位置排名第i个的人去入座位置排名为第i个的对应位置。最后的结果即为这些所有人入座所用时间的最大值（因为是同时移动的）。
- 示例：

```
9
1 3 5 7 9 8 6 4 2
12 89 56 23 45 78 67 90 34
```

首先完成排序：
```
1 2 3 4 5 6 7 8 9
12 23 34 45 56 67 78 89 90
```

然后入座所用时间分别为：
```
11 21 31 41 51 61 71 81 81
```

选取最大值后结果即为81。

- 注意：Java自带的排序库方法为```Arrays.sort();```

## A2Q4 特殊图案排列
- 难度：中等
- 要求：给定一个数值n，要求使用砖块形成一个图案，符合以下要求：
  - 图案是连通的
  - 每个砖块需要连接偶数个数的砖块（也就是说2 或者 4）
  - 有且只有n个砖块，他们上下左右都有砖块相连

其中(0,0)位置已有砖块，要求先输出安放砖块的个数，然后输出砖块安放的依次顺序。

- 做法：注意本题有Special Judge，不要求安放数最少，只要符合要求即可。

![image](https://user-images.githubusercontent.com/64548919/159836795-594ff57c-5f0e-445f-a68e-f0213659f113.png)

我本人的思路如上图所示：总安放数为3\*n+3，安放方法是往一个角落不断向上延伸三个块（n=0也是成立的，各位同学可以思考一下原因）。

## A2Q5 圆上整数点个数统计
- 难度：困难
- 要求：给定一个坐标系下半径为整数`r`的圆。要求询问这个圆上的点，`x`，`y`坐标都是整数的坐标个数。
- 做法1（90分）：
  - 当`r` == 0时，结果为1
  - 当`r` != 0时，开始从0依次枚举横坐标`x`，枚举到`r`。枚举时计算对应的纵坐标`y`，验证`y`是否为整数。
- 做法2（100分）：
  - 需要一些数论相关的知识，理解不了的话就用做法1。**有一说一，这题出的是真的离谱，拿算法竞赛的题目过来，对没基础的同学一点都不友好。**
  - 首先，与做法1相同，当`r` == 0时，结果为1
  - 当`r` == 1时，需要开始枚举验证结果。

```
x^2 + y^2 = r^2，则y^2 = r^2 - x^2 = (r - x)*(r + x)
考虑到y^2是完全平方数，因此(r-x)和(r+x)会有最大公因数d
所以y^2 = d^2 * ((r-x) / d) * ((r+x) / d)

设A = (r-x)/d, B = (r+x)/d，则AB的最大公因数必定为1（gcd(A, B) == 1）。

（如果任意q != 1，则A = qA'，B = qB'，A*B = q^2 * A' * B'，提取出的q可以融合到前面的d里面，不断重复直至不能提取）

因为y^2 和 d^2都是完全平方数，所以A和B一定也是完全平方数。

令a^2 = A, b^2 = B，则a^2 + b^2 == 2*r / d（为简化，令a < b）
a^2 + b^2 是整数 -> d必须是2*r的因子（枚举，范围为[1, sqrt(w*r)]，先要做这个验证！），分为以下两种情况：
1. a*a + b*b == d
2. a*a + b*b == 2*r/d

两种情况都做讨论：
1. 在[1, sqrt(d / 2)]范围内枚举a，相应b = sqrt(2*R/d - a^2)
2. 在[1, sqrt((2*R)/ (2*d))]范围内枚举a，相应b = sqrt(d - a^2)

两种情况中，得到a和b了以后，需要验证以下条件：
1. A != B
2. gcd(A, B) == 1
3. b是整数

如果上述都成立，那么结果+1

最后结果为4*结果+4（四个象限+四个坐标轴）
```

![AOAW IGY`RF9)R Y$ADKR~B](https://user-images.githubusercontent.com/64548919/159948359-639d72ee-9fce-4248-b7ae-1275a9a6932f.jpg)



- 注意：
  - 本题使用int类型会出数值溢出的坑，不建议使用int类型
  - 本题使用float/double类型会出精度损失的坑，不建议使用float/double类型
  - 验证`y`是否为整数的方法可以先将计算的`y`转为long类型，然后验证long类型的y是否能满足`x*x + y*y == r*r`
